<h1 class="siimple-h1">Workouts</h1>

<ul class="">
  <li class="siimple-card" *ngFor="let workout of workouts">
    <div class="siimple-card-header">
      {{workout.name}}
    </div>
    <div class="siimple-card-body">
      <div class="siimple-grid">
        <div class="siimple-grid-row">
          <div class="siimple-grid-col">
            <table class="siimple-table siimple-table--striped siimple-table--border">
              <thead class="siimple-table-header">
                  <tr class="siimple-table-row">
                      <th class="siimple-table-cell">Exercise</th>
                      <th class="siimple-table-cell">Weight</th>
                      <th class="siimple-table-cell">Sets</th>
                      <th class="siimple-table-cell">Reps</th>
                  </tr>
              </thead>
              <tbody class="siimple-table-body">
                  <tr class="siimple-table-row link-row" *ngFor="let workoutActivity of getResumedActivities(workout)">
                      <td class="siimple-table-cell">
                        <span *ngFor="let exercise of exercises">
                          <span *ngIf="exercise.id == workoutActivity.exercise">{{exercise.name}}</span>
                        </span>
                      </td>
                      <td class="siimple-table-cell" align="center">
                        <span *ngIf="workoutActivity.weight">
                          <span *ngIf="workoutActivity.weight % 1 == 0">
                            {{workoutActivity.weight | number: '1.0-0'}}
                          </span>
                          <span *ngIf="workoutActivity.weight % 1 != 0">
                            {{workoutActivity.weight}}
                          </span>
                          <span *ngFor="let unit of units">
                            <span *ngIf="unit.id == workoutActivity.unit">{{unit.abbreviation}}</span>
                          </span>
                        </span>
                        <span *ngIf="!workoutActivity.weight">
                          <span>
                            (bar)
                          </span>
                        </span>
                      </td>
                      <td class="siimple-table-cell" align="center">
                        <span *ngIf="workoutActivity.number_of_sets">
                            <span>{{workoutActivity.number_of_sets}}</span>
                        </span>
                      </td>
                      <td class="siimple-table-cell" align="center">
                        <span *ngIf="workoutActivity.number_of_repetitions">
                          <span>{{workoutActivity.number_of_repetitions}}</span>
                        </span>
                      </td>
                  </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
    <div class="siimple-card-footer ">
      <div class="">
        <button class="siimple-btn siimple-btn--primary siimple--mr-2"
          routerLink="../workout/{{workout.id}}">View</button>
        <button class="siimple-btn siimple-btn--error" (click)="deleteWorkout(workout)">Remove</button>
      </div>
    </div>
  </li>
</ul>

<div class="navigation-box" *ngIf="hasPreviousPage || hasNextPage" align="center">
  <button [class.siimple-btn--disabled]="!hasPreviousPage" class="siimple-btn siimple-btn--primary navigation-previous" [routerLink]="['/users', username, 'workouts', previousPage]">
    <fa-icon [icon]="faArrowLeft"></fa-icon>
    <span class="siimple--display-sm-none siimple--ml-1">Previous</span>
  </button>
  <span class="current-page siimple--bg-light siimple--mr-2 siimple--rounded" align="center">
    <button *ngIf="currentPage > 3" class="siimple--mr-2 siimple-btn" [routerLink]="['/users', username, 'workouts', 1]">1</button>
    <span *ngIf="currentPage > 3" class="siimple--rounded siimple--mr-2 siimple--bg-light more-pages-label" align="center">
      <small class="siimple-small">...</small>
    </span>
    <button *ngIf="hasPreviousPage" class="siimple-btn siimple--mr-2" [routerLink]="['/users', username, 'workouts', previousPage]">{{previousPage}}</button>
    <button class="siimple-btn siimple-btn--primary siimple--mr-2 " [routerLink]="['/users', username, 'workouts', currentPage]">{{currentPage}}</button>
    <button *ngIf="hasNextPage" class="siimple-btn" [routerLink]="['/users', username, 'workouts', nextPage]">{{nextPage}}</button>
  </span>
  <button [class.siimple-btn--disabled]="!hasNextPage" class="siimple-btn siimple-btn--primary navigation-next" [routerLink]="['/users', username, 'workouts', nextPage]">
    <span class="siimple--display-sm-none siimple--mr-1">Next</span>
    <fa-icon [icon]="faArrowRight"></fa-icon>
  </button>
</div>

<button class="siimple-btn siimple-btn--primary" [routerLink]="['/users', username, 'workout']">New workout</button>