<div *ngIf="planSession">
    <div class="siimple-form-field">
        <div class="siimple-tabs">
            <div class="siimple-tabs-item" [class.siimple-tabs-item--selected]="selectedTab=='session'"
                (click)="selectTab('session')">
                Session
            </div>
            <div class="siimple-tabs-item" [class.siimple-tabs-item--selected]="selectedTab=='progressions'"
                (click)="selectTab('progressions')">
                Progressions
            </div>
        </div>

        <div>
            <div class="tab-content" [class.tab-content-selected]="selectedTab=='session'">
                <div class="siimple-form-field-label">Session Name</div>
                <input type="text" class="siimple-input siimple--mb-2 siimple-input--fluid" required name="name"
                    id="name" [(ngModel)]="planSession.name" #name="ngModel">
                <div *ngIf="name.invalid && (name.dirty || triedToSave)">
                    <div class="siimple-field-helper siimple--color-error">This field can't be empty</div>
                </div>

                <div class="siimple-grid">
                    <div class="siimple-card siimple--mb-0" *ngFor="let group of planSession.groups">
                        <div class="close-top-right" (click)="removeGroup(group)">
                            <fa-icon [icon]="faTimesCircle" class="siimple--mr-1"></fa-icon>
                        </div>

                        <app-plan-session-group [planSessionGroup]=group [triedToSave]=triedToSave>
                        </app-plan-session-group>
                    </div>
                </div>

                <button class="siimple-btn siimple--mt-2 siimple-btn--primary" type="button" (click)="newGroup()">
                    <fa-icon [icon]="faLayerGroup" class="siimple--mr-2"></fa-icon>
                    New Group
                </button>
            </div>

            <div class="tab-content" [class.tab-content-selected]="selectedTab=='progressions'">
                <app-plan-progression-strategies type_label="Session" [progressions]=planSession.progressions
                    [triedToSave]=triedToSave>
                </app-plan-progression-strategies>
            </div>
        </div>

    </div>
</div>