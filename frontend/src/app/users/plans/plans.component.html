<div class="toolbar">
  <div class="toolbar-title">Plans</div>

  <div class="toolbar-buttons" *ngIf="isLoggedIn()">
    <button class="siimple-btn siimple-btn--primary toolbar-button" [routerLink]="['/users', username, 'plan']">
      <fa-icon [icon]="faCalendarAlt" class="siimple--mr-1"></fa-icon>
      New
    </button>
  </div>
</div>

<div *ngIf="adoptedPlans && adoptedPlans.length > 0 && (!currentPage || currentPage == 1)">
  <h2 class="siimple-h2">Adopted plans</h2>
  <ul class="">
    <li *ngFor="let plan of adoptedPlans">
      <app-plan-card [plan]=plan [showSaveDeleteButtons]="showDeleteButton(plan)" (deleted)="deletePlan(plan)"
        [detailView]=true
        [showAdoptButton]="!this.isCurrentLoggedInUser && showAdoptButton(plan)">
      </app-plan-card>
    </li>
  </ul>
</div>

<div class="siimple-rule" *ngIf="adoptedPlans && adoptedPlans.length > 0 && plans && plans.length > 0"></div>

<div *ngIf="plans && plans.length > 0">
  <h2 class="siimple-h2" *ngIf="adoptedPlans && adoptedPlans.length > 0">
    <span *ngIf="isCurrentLoggedInUser">Public plans</span>
    <span *ngIf="!isCurrentLoggedInUser">Created plans</span>
  </h2>
  <ul class="">
    <li class="siimple-card" *ngFor="let plan of plans">
      <app-plan-card [plan]=plan [showSaveDeleteButtons]="showDeleteButton(plan)" (deleted)="deletePlan(plan)"
        (adopted)="planAdopted()"
        [detailView]=true
        [showAdoptButton]="showAdoptButton(plan)">
      </app-plan-card>
    </li>
  </ul>

  <app-pagination [paginatedRecords]="paginatedPlans" [currentPage]="currentPage"
    [link]="['/users', username, 'plans']">
  </app-pagination>
</div>