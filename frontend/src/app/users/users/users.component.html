<div class="site-body">
    <div class="siimple-navbar siimple-navbar--primary siimple-navbar--large navbar">
        <app-loading-spinner  *ngIf="loading"></app-loading-spinner>

        <div *ngIf="authService.isLoggedIn(); then loggedTitle else notLoggedTitle"></div>
        <ng-template #loggedTitle>
            <div class="siimple--float-left menu-icon siimple--mr-1">
                <span class="menu-icon md-and-lower-only" (click)="toggleMenuVisibility()">
                    <fa-icon [icon]="faBars" *ngIf="!menuDropDownVisible"></fa-icon>
                    <fa-icon [icon]="faTimes" class="menu-close-icon" *ngIf="menuDropDownVisible"></fa-icon>
                </span>
            </div>
        
            <div class="logo-container">
                <div class="logo"></div>
                <a class="siimple-navbar-title" [routerLink]="['/users', authService.getUsername(), 'home']">
                    sukuwatto
                </a>

                <div class="user-info">
                    <app-user-info></app-user-info>
                </div>
            </div>
        </ng-template>
        <ng-template #notLoggedTitle>
            <div class="logo-container">
                <div class="logo"></div>
                <a class="siimple-navbar-title" routerLink="/">
                    sukuwatto
                </a>

                <div class="user-info">
                    <app-user-info></app-user-info>
                </div>
            </div>
        </ng-template>
    </div>

    <div [class.menu-dropdown-open]="menuDropDownVisible" class="menu-dropdown" (click)="toggleMenuVisibility()">
        <app-menu></app-menu>

        <div class="menu-buttons-container" >
            <div class="button-container">
                <button type="button" class="siimple-btn siimple-btn--primary siimple-btn--fluid"
                    [routerLink]="['/users', username, 'workout']" >
                    <fa-icon [icon]="faDumbbell" class="siimple--mr-1"></fa-icon>
                    New workout
                </button>
            </div>
            <div class="button-container">
                <button type="button" class="siimple-btn siimple-btn--primary siimple-btn--fluid"
                    [routerLink]="['/users', username, 'quick-activity']">
                    <fa-icon [icon]="faRunning" class="siimple--mr-1"></fa-icon>
                    Quick activity
                </button>
            </div>
        </div>
    </div>

    <div>
        <app-alert></app-alert>
    </div>

    <main class="site-content siimple-content siimple-content--large content-body">
        <div class="siimple-grid-row">
            <div *ngIf="authService.isLoggedIn(); else notLoggedContent">
                <div class="siimple-grid-col siimple-grid-col--2 siimple--display-sm-none siimple--display-md-none">
                    <app-menu></app-menu>
                </div>
                <div class="siimple-grid-col siimple-grid-col--10 siimple-grid-col-sm--12 siimple-grid-col-md--12">
                    <router-outlet></router-outlet>
                </div>
            </div>
            <ng-template #notLoggedContent>
                <div class="siimple-grid-col siimple-grid-col--12">
                    <router-outlet></router-outlet>
                </div>
            </ng-template>
        </div>
    </main>

    <app-footer></app-footer>
</div>
