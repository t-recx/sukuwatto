<app-workout-set-edit [visible]=editing [sets]=sets [workoutActivity]=workoutActivity [exercises]=exercises [units]=units [triedToSave]=triedToSave
(closed)="onWorkingSetEditClosed()">
</app-workout-set-edit>

<app-workout-set-repetitions-edit [visible]=editingRepetitions [workoutActivity]=workoutActivity [triedToSave]=triedToSave
(closed)="onWorkingSetEditRepetitionsClosed()">
</app-workout-set-repetitions-edit>

<div (click)="toggleDone()" 
style="padding: 10px;"
[class.siimple--text-bold]="workoutActivity.in_progress">
    <fa-icon [icon]="faEdit" (click)="toggleEdit($event)" class="siimple--mr-1"></fa-icon>
    <span *ngIf="workoutActivity.exercise">{{workoutActivity.exercise.name}}</span>
    <span>
        x
    </span>
    <span *ngIf="workoutActivity.weight">
        <span *ngIf="workoutActivity.weight % 1 == 0">
          {{workoutActivity.weight | number: '1.0-0'}}
        </span>
        <span *ngIf="workoutActivity.weight % 1 != 0">
          {{workoutActivity.weight}}
        </span>
        <span *ngFor="let unit of units">
            <span *ngIf="unit.id == workoutActivity.unit">{{unit.abbreviation}}</span>
        </span>
    </span>
    <span *ngIf="!workoutActivity.weight">
        (bar)
    </span>
    <span *ngIf="workoutActivity.repetition_type!=repetitionType.None">
        x
    </span>
    <span (click)="toggleEditRepetitions($event)">
        <span *ngIf="workoutActivity.number_of_repetitions">
            <span>{{workoutActivity.number_of_repetitions}}</span>
        </span>
        <span *ngIf="!workoutActivity.number_of_repetitions">
            <span *ngIf="workoutActivity.repetition_type==repetitionType.Standard">
                {{workoutActivity.expected_number_of_repetitions}}
            </span>
            <span *ngIf="workoutActivity.repetition_type==repetitionType.Range">
                {{workoutActivity.expected_number_of_repetitions}} -
                {{workoutActivity.expected_number_of_repetitions_up_to}}
            </span>
            <span *ngIf="workoutActivity.repetition_type==repetitionType.ToFailure">
                F
            </span>
            <span *ngIf="workoutActivity.repetition_type==repetitionType.AMRAP">
                AMRAP
            </span>
        </span>
    </span>

    <fa-icon *ngIf="workoutActivity.done" [icon]="faCheck" class="siimple--float-right"></fa-icon>
</div>
